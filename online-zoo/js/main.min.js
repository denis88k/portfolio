const btn=document.querySelector(".menu__btn"),nav=document.querySelector(".nav"),navLinks=document.querySelector(".nav__links"),headerInner=document.querySelector(".header__inner");if(btn.addEventListener("click",()=>{btn.classList.toggle("menu__btn-active"),navLinks.classList.toggle("nav__links-active"),nav.classList.toggle("nav-active"),headerInner.classList.toggle("active"),document.body.classList.toggle("lock")}),nav.addEventListener("click",e=>{e.target.classList.contains("nav-active")&&(btn.classList.toggle("menu__btn-active"),navLinks.classList.toggle("nav__links-active"),nav.classList.toggle("nav-active"),headerInner.classList.toggle("active"),document.body.classList.toggle("lock"))}),document.querySelector(".slider-track")){const e=document.querySelector(".slider-track"),t=document.querySelector(".btn-prev"),n=document.querySelector(".btn-next");let i=0;const c=30,s=e=>{e.forEach(e=>e.style.marginRight=c+"px")},o=[{src:"panda",title:"giant Pandas",subtitle:"Native to Southwest China",icon:"banana-bamboo_icon",size:'width="33" height="37"'},{src:"cheetahs",title:"Cheetahs",subtitle:"Native to Africa",icon:"meet-fish_icon",size:'width="48" height="38"'},{src:"eagle",title:"Eagles",subtitle:"Native to South America",icon:"meet-fish_icon",size:'width="48" height="38"'},{src:"gorilla",title:"Gorillas",subtitle:"Native to Congo",icon:"banana-bamboo_icon",size:'width="33" height="37"'},{src:"penguins",title:"Penguins",subtitle:"Native to Antarctica",icon:"meet-fish_icon",size:'width="48" height="38"'},{src:"Two-toed Sloth",title:"Two-toed Sloth",subtitle:"Mesoamerica, South America",icon:"banana-bamboo_icon",size:'width="33" height="37"'}];function slide(e,t){const n=document.querySelector(".slider-track");let i,c=[];for(let s=1;s<=6;s++){for(i=Math.floor(6*Math.random())+1-1;c.includes(i);)i=Math.floor(6*Math.random())+1-1;c.push(i);const l=`\n         <div class="slider-item ${"before"===t?"duplicate-before":"after"===t?"duplicate-after":""}" data-numb=${s}>\n            <img src="img/${o[i].src}.jpg" alt="${o[i].src}">\n            <div class="slider__desc">\n               <div class="slider__text">\n                  <p class="slider__text-title">${o[i].title}</p>\n                  <p class="slider__text-subtitle">${o[i].subtitle}</p>\n               </div>\n               <svg class="pet-icon" ${o[i].size}>\n                  <use href="img/sprite.svg#${o[i].icon}"></use>\n               </svg>\n            </div>\n         </div>`;"prepend"===e?n.insertAdjacentHTML("afterbegin",l):"append"===e&&n.insertAdjacentHTML("beforeend",l)}const l=document.querySelectorAll(".slider-item");s(l)}slide("append");const l=document.querySelectorAll(".slider-item").length,r=document.querySelector(".slider-container").clientWidth,a=(t,n)=>{e.style.cssText=`\n      transition: ${0===n?"all 0.7s ease-in-out":"0s"};\n      transform: translate(${t}px);\n   `};(()=>{slide("prepend","before"),slide("append","after");const e=document.querySelectorAll(".slider-item");s(e),i-=r+c,a(i,1)})();const d=()=>{if(i===-(1*(r+c)-(r+c))){console.log("prev граница");const e=document.querySelectorAll(".slider-item"),t=e.length;for(let n=t-l;n<t;n++)e[n].remove();slide("prepend","after"),i-=1*(r+c)+(r+c),a(i,1),i+=r+c,setTimeout(()=>{a(i,0)},10)}else a(i,0)},u=()=>{if(i===-(1*(r+c)*2+(r+c))){console.log("next граница");const e=document.querySelectorAll(".slider-item");e.length;for(let t=0;t<l;t++)e[t].remove();slide("append","before"),i+=1*(r+c)+(r+c),a(i,1),i-=r+c,setTimeout(()=>{a(i,0)},10)}else a(i,0)},m=()=>{n.removeEventListener("click",m),t.removeEventListener("click",v),i-=r+c,u()},v=()=>{n.removeEventListener("click",m),t.removeEventListener("click",v),i+=r+c,d()};n.addEventListener("click",m),t.addEventListener("click",v),e.addEventListener("transitionend",()=>{n.addEventListener("click",m),t.addEventListener("click",v)}),window.addEventListener("resize",(e,t)=>{a(e,0),g(t,1),window.innerWidth<1335?p.max=8:p.max=7,window.innerWidth<971&&g(0,1)});const p=document.querySelector(".testim__input-scroll"),h=document.querySelector(".testim__comments"),g=(e,t)=>{h.style.cssText=`\n         transition: ${0===t?"all 0.7s ease-in-out":"0s"};\n         transform: translate(${e}px);\n   `};p.addEventListener("input",()=>{const e=document.querySelector(".testim__comments"),t=+window.getComputedStyle(e).gap.slice(0,2),n=document.querySelectorAll(".testim__comment")[0].clientWidth,i=p.value;g(-(n+t)*i,0)});const _=document.querySelectorAll(".testim__comment"),L=document.querySelector(".testim");_.forEach(e=>{e.addEventListener("click",t=>{const n=e.querySelector(".testim__comment-content").cloneNode(!0);L.insertAdjacentHTML("afterbegin",'<div class="pop-up"></div>');const i=document.querySelector(".pop-up");i.prepend(n),n.insertAdjacentHTML("afterbegin",'<span class="pop-up__close"></span>'),document.body.classList.add("lock"),document.querySelector(".pop-up__close").addEventListener("click",()=>{document.body.classList.remove("lock"),document.querySelector(".pop-up").remove()}),i.addEventListener("click",e=>{e.target.classList.contains("pop-up")&&(document.body.classList.remove("lock"),document.querySelector(".pop-up").remove())})})})}if(document.querySelector(".pick__input-amount")){const e=document.querySelectorAll(".pick__input"),t=document.querySelector(".pick__input-amount"),n=document.querySelector(".pick__input-amount input");function changeInput(t){e.forEach(e=>e.value===t.value?e.checked=!0:e.checked=null)}e.forEach(e=>{n.value===e.value?e.checked=!0:e.checked=null,e.addEventListener("input",()=>{e.checked&&(n.value=e.value)})}),n.addEventListener("input",()=>{changeInput(n),n.value.length>4&&(n.value=9999)}),n.addEventListener("focus",()=>{t.classList.add("focus")}),n.addEventListener("blur",()=>{t.classList.remove("focus")}),window.addEventListener("resize",()=>{window.innerWidth<=1335&&(n.value=100,changeInput(n))})}
