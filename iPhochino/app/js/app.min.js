const forms=document.querySelectorAll(".form"),inputMask=new Inputmask("+7 (999) 999-99-99");forms.forEach(e=>{const t=e.querySelector(".input__tel");inputMask.mask(t);new JustValidate(e).addField(".input__tel",[{rule:"required",value:!0,errorMessage:"Телефон обязателен!"},{rule:"function",validator:function(){return 10===t.inputmask.unmaskedvalue().length},errorMessage:"Введите корректный телефон!"}]).addField(".input__email",[{rule:"required",value:!0,errorMessage:"Email обязателен!"},{rule:"email",value:!0,errorMessage:"Введите корректный Email!"}]).addField(".input__name",[{rule:"minLength",value:3},{rule:"maxLength",value:30},{rule:"required",value:!0,errorMessage:"Введите имя!"}]).onSuccess(e=>{console.log("Validation passes and form submitted",e),e.target.reset()})});const videoLink=document.querySelector(".video__link"),videoPopup=document.querySelector(".video__popup"),popupContent=document.querySelector(".popup__content"),video=document.getElementById("video");function onYouTubePlayerAPIReady(){player=new YT.Player("video",{events:{onPause:onPlayerPause}})}function onPlayerPause(e){player.pauseVideo()}videoLink.addEventListener("click",()=>{videoPopup.classList.add("active"),document.body.classList.add("lock")}),videoPopup.addEventListener("click",e=>{e.target.closest(".popup__content")||(videoPopup.classList.remove("active"),document.body.classList.remove("lock"),onPlayerPause())});const slid1=document.querySelectorAll(".swiper1"),slid2=document.querySelectorAll(".swiper2");slid1.forEach(e=>{new Swiper(e,{loop:!0,spaceBetween:30,swipe:!1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next1",prevEl:".swiper-button-prev1"}})}),slid2.forEach(e=>{new Swiper(e,{loop:!0,spaceBetween:30,swipe:!1,allowTouchMove:!1,navigation:{nextEl:".swiper-button-next2",prevEl:".swiper-button-prev2"}})});const shopItem=document.querySelectorAll(".shop__item"),swiperImg=document.querySelectorAll(".swiper-img");shopItem.forEach((e,t)=>{e.addEventListener("click",o=>{o.preventDefault(),o.target.classList.contains("shop__item-title")&&(shopItem.forEach(e=>{e.classList.remove("shop__item-active")}),swiperImg.forEach(e=>{e.classList.remove("swiper-img-active")}),e.classList.add("shop__item-active"),swiperImg[t].classList.add("swiper-img-active"))})});const calcLists=document.querySelector(".calc__lists"),ranges=document.querySelectorAll(".range__input");function progressbar(e){const t=e.getAttribute("min"),o=e.getAttribute("max"),r=e.nextElementSibling;r.classList.contains("range__progressbar")&&(r.style.width=100*(e.value-t)/(o-t)+"%")}function calcResult(){const e=.35*(6e3*ranges[0].value+100*ranges[1].value+1e3*ranges[2].value)*ranges[3].value;document.querySelectorAll(".result-calc").forEach(t=>{t.innerHTML=e.toLocaleString()})}ranges.forEach(e=>{progressbar(e)}),calcResult(),calcLists.addEventListener("input",e=>{progressbar(e.target),calcResult()});